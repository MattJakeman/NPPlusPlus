#include <linux/kernel.h>
#include <linux/module.h>
#include <linux/netdevice.h>
#include <linux/kobject.h>
#include <linux/sysfs.h>
#include <linux/proc_fs.h>
#include "np-mod.h"

#define __NO_VERSION__

//struct kset *np_kset;
struct proc_dir_entry *np_pde;

int np_sysfs_init(void)
{
	int i = 0;
	const struct net_device *list_dev;

	printk(KERN_INFO "Initialising NP++ sysfs entries\n");

//	np_kset = kset_create_and_add("np++", NULL, kernel_kobj);
	np_pde = proc_mkdir("np++", NULL);

	for(i = 1 ; (list_dev = dev_get_by_index(&init_net, i)) != NULL ; i++)
    {
		/*
		* XXX : Register Sysfs ifcurmapping variables here - use proc FS
		*/

    }

//	if (!np_kset)
//		return -ENOMEM;

	return 0;
}
